import{_ as n,a as t,b as i,c as e,i as r,s as o,d as c,S as u,f,g as a,h as s,e as l,j as h,k as p,l as v,m as d,o as m,n as y,p as g,t as w,u as x,v as b,w as $,x as R,y as E,z as D,A as k,B as I,C as z,D as T,E as j,F as A,G as O,H as P,I as S,J as V,K as B}from"./client.1942c4dd.js";import{g as G,a as W,b as C,f as F,c as H,E as N}from"./index.942f0915.js";function J(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,o=t(n);if(e){var c=t(this).constructor;r=Reflect.construct(o,arguments,c)}else r=o.apply(this,arguments);return i(this,r)}}function K(n){var t,i,e,r,o,c,u;return{c:function(){t=f("a"),i=f("figure"),e=f("video"),this.h()},l:function(n){t=a(n,"A",{rel:!0,href:!0,class:!0});var r=s(t);i=a(r,"FIGURE",{});var o=s(i);e=a(o,"VIDEO",{class:!0,muted:!0,autoplay:!0,playsinline:!0,"webkit-playsinline":!0,poster:!0}),s(e).forEach(l),o.forEach(l),r.forEach(l),this.h()},h:function(){h(e,"class","w-full bg-white"),e.muted=!0,e.autoplay=!0,e.playsInline=!0,h(e,"webkit-playsinline",""),h(e,"poster",r=G(n[0])),h(t,"rel","prefetch"),h(t,"href",o="/exhibits/"+n[0].key),h(t,"class","m-px exhibit relative w-84")},m:function(r,o){p(r,t,o),v(t,i),v(i,e),n[3](e),c||(u=d(e,"mouseover",n[2]),c=!0)},p:function(n,i){var c=m(i,1)[0];1&c&&r!==(r=G(n[0]))&&h(e,"poster",r),1&c&&o!==(o="/exhibits/"+n[0].key)&&h(t,"href",o)},i:y,o:y,d:function(i){i&&l(t),n[3](null),c=!1,u()}}}function M(n,t,i){var e,r=t.exhibit,o=!1;return n.$$set=function(n){"exhibit"in n&&i(0,r=n.exhibit)},[r,e,function(){o||(o=!0,i(1,e.src=W(r),e),i(1,e.oncanplay=function(){i(1,e.poster=C(r),e),e.play()},e))},function(n){g[n?"unshift":"push"]((function(){i(1,e=n)}))}]}var U=function(t){n(f,u);var i=J(f);function f(n){var t;return e(this,f),t=i.call(this),r(c(t),n,M,K,o,{exhibit:0}),t}return f}();function X(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,o=t(n);if(e){var c=t(this).constructor;r=Reflect.construct(o,arguments,c)}else r=o.apply(this,arguments);return i(this,r)}}function Y(n){var t,i,e,r;return{c:function(){t=f("video"),this.h()},l:function(n){t=a(n,"VIDEO",{class:!0,muted:!0,playsinline:!0,"webkit-playsinline":!0,poster:!0}),s(t).forEach(l),this.h()},h:function(){h(t,"class","absolute inset-0 w-full z-10"),t.muted=!0,t.playsInline=!0,h(t,"webkit-playsinline",""),h(t,"poster",i=G(n[0]))},m:function(i,e){p(i,t,e),n[12](t),r=!0},p:function(n,e){(!r||1&e&&i!==(i=G(n[0])))&&h(t,"poster",i)},i:function(n){r||(e&&e.end(1),r=!0)},o:function(n){n&&(e=x(t,F,{})),r=!1},d:function(i){i&&l(t),n[12](null),i&&e&&e.end()}}}function _(n){var t,i,e,r,o,c,u,y,g,x,j=!1,A=function(){j=!1};w(n[10]),w(n[11]);var O=n[7]&&Y(n);return{c:function(){i=f("div"),e=f("a"),O&&O.c(),r=b(),o=f("img"),this.h()},l:function(n){i=a(n,"DIV",{class:!0,style:!0});var t=s(i);e=a(t,"A",{rel:!0,href:!0,class:!0});var c=s(e);O&&O.l(c),r=$(c),o=a(c,"IMG",{class:!0,src:!0}),c.forEach(l),t.forEach(l),this.h()},h:function(){h(o,"class","absolute inset-0 z-0"),o.src!==(c=H(n[0]))&&h(o,"src",c),h(e,"rel","prefetch"),h(e,"href",u="/exhibits/"+n[0].key),h(e,"class","m-px w-full"),h(i,"class","relative w-full m-1 mx-2 h-96"),R(i,"height",n[8]+"px"),w((function(){return n[13].call(i)}))},m:function(c,u){p(c,i,u),v(i,e),O&&O.m(e,null),v(e,r),v(e,o),y=E(i,n[13].bind(i)),n[14](i),g||(x=[d(window,"scroll",n[9]),d(window,"scroll",(function(){j=!0,clearTimeout(t),t=setTimeout(A,100),n[10]()})),d(window,"resize",n[11])],g=!0)},p:function(n,f){var a=m(f,1)[0];24&a&&!j&&(j=!0,clearTimeout(t),scrollTo(n[3],n[4]),t=setTimeout(A,100)),n[7]?O?(O.p(n,a),128&a&&D(O,1)):((O=Y(n)).c(),D(O,1),O.m(e,r)):O&&(k(),I(O,1,1,(function(){O=null})),z()),1&a&&o.src!==(c=H(n[0]))&&h(o,"src",c),1&a&&u!==(u="/exhibits/"+n[0].key)&&h(e,"href",u),256&a&&R(i,"height",n[8]+"px")},i:function(n){D(O)},o:function(n){I(O)},d:function(t){t&&l(i),O&&O.d(),y(),n[14](null),g=!1,T(x)}}}function q(){for(var n,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];(n=console).log.apply(n,["[autoplay]"].concat(i))}function L(n,t,i){var e,r,o,c,u,f,a,s=t.exhibit,l=!0,h=!1,p=!1;function v(n){var t=r.getBoundingClientRect(),o=t.top>=0&&t.bottom<=n,c=t.bottom<=0||t.top>=n;o&&!h&&(console.log("Playing video ".concat(s.key),t),p||(p=!0,i(7,l=!0),i(1,e.src=W(s),e),e.play(),q("init video element"),i(1,e.oncanplay=function(){q("canplay fired"),e.play()},e),i(1,e.onerror=function(){q("onerror fired")},e),i(1,e.onended=function(){q("onended fired"),l&&(i(7,l=!1),h=!0)},e))),c&&p&&e&&(e.pause(),i(1,e.src=null,e),e.load(),p=!1)}return j((function(){v(f)})),n.$$set=function(n){"exhibit"in n&&i(0,s=n.exhibit)},[s,e,r,o,c,u,f,l,a,function(){v(f)},function(){i(3,o=window.pageXOffset),i(4,c=window.pageYOffset)},function(){i(5,u=window.innerWidth),i(6,f=window.innerHeight)},function(n){g[n?"unshift":"push"]((function(){i(1,e=n)}))},function(){a=this.clientWidth,i(8,a)},function(n){g[n?"unshift":"push"]((function(){i(2,r=n)}))}]}var Q=function(t){n(f,u);var i=X(f);function f(n){var t;return e(this,f),t=i.call(this),r(c(t),n,L,_,o,{exhibit:0}),t}return f}();function Z(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,o=t(n);if(e){var c=t(this).constructor;r=Reflect.construct(o,arguments,c)}else r=o.apply(this,arguments);return i(this,r)}}function nn(n,t,i){var e=n.slice();return e[3]=t[i],e}function tn(n){for(var t,i,e=N,r=[],o=0;o<e.length;o+=1)r[o]=on(nn(n,e,o));var c=function(n){return I(r[n],1,1,(function(){r[n]=null}))};return{c:function(){for(var n=0;n<r.length;n+=1)r[n].c();t=A()},l:function(n){for(var i=0;i<r.length;i+=1)r[i].l(n);t=A()},m:function(n,e){for(var o=0;o<r.length;o+=1)r[o].m(n,e);p(n,t,e),i=!0},p:function(n,i){if(2&i){var o;for(e=N,o=0;o<e.length;o+=1){var u=nn(n,e,o);r[o]?(r[o].p(u,i),D(r[o],1)):(r[o]=on(u),r[o].c(),D(r[o],1),r[o].m(t.parentNode,t))}for(k(),o=e.length;o<r.length;o+=1)c(o);z()}},i:function(n){if(!i){for(var t=0;t<e.length;t+=1)D(r[t]);i=!0}},o:function(n){r=r.filter(Boolean);for(var t=0;t<r.length;t+=1)I(r[t]);i=!1},d:function(n){O(r,n),n&&l(t)}}}function en(n){var t,i;return t=new U({props:{exhibit:n[3]}}),{c:function(){P(t.$$.fragment)},l:function(n){S(t.$$.fragment,n)},m:function(n,e){V(t,n,e),i=!0},p:y,i:function(n){i||(D(t.$$.fragment,n),i=!0)},o:function(n){I(t.$$.fragment,n),i=!1},d:function(n){B(t,n)}}}function rn(n){var t,i;return t=new Q({props:{exhibit:n[3]}}),{c:function(){P(t.$$.fragment)},l:function(n){S(t.$$.fragment,n)},m:function(n,e){V(t,n,e),i=!0},p:y,i:function(n){i||(D(t.$$.fragment,n),i=!0)},o:function(n){I(t.$$.fragment,n),i=!1},d:function(n){B(t,n)}}}function on(n){var t,i,e,r,o=[rn,en],c=[];function u(n,t){return n[1]?0:1}return t=u(n),i=c[t]=o[t](n),{c:function(){i.c(),e=A()},l:function(n){i.l(n),e=A()},m:function(n,i){c[t].m(n,i),p(n,e,i),r=!0},p:function(n,r){var f=t;(t=u(n))===f?c[t].p(n,r):(k(),I(c[f],1,1,(function(){c[f]=null})),z(),(i=c[t])||(i=c[t]=o[t](n)).c(),D(i,1),i.m(e.parentNode,e))},i:function(n){r||(D(i),r=!0)},o:function(n){I(i),r=!1},d:function(n){c[t].d(n),n&&l(e)}}}function cn(n){var t,i,e,r;w(n[2]);var o=!!n[0]&&tn(n);return{c:function(){t=f("div"),o&&o.c(),this.h()},l:function(n){t=a(n,"DIV",{class:!0});var i=s(t);o&&o.l(i),i.forEach(l),this.h()},h:function(){h(t,"class","flex text-white justify-center flex-wrap")},m:function(c,u){p(c,t,u),o&&o.m(t,null),i=!0,e||(r=d(window,"resize",n[2]),e=!0)},p:function(n,i){var e=m(i,1)[0];n[0]?o?(o.p(n,e),1&e&&D(o,1)):((o=tn(n)).c(),D(o,1),o.m(t,null)):o&&(k(),I(o,1,1,(function(){o=null})),z())},i:function(n){i||(D(o),i=!0)},o:function(n){I(o),i=!1},d:function(n){n&&l(t),o&&o.d(),e=!1,r()}}}function un(n,t,i){var e,r;return n.$$.update=function(){1&n.$$.dirty&&i(1,r=e<768)},[e,r,function(){i(0,e=window.innerWidth)}]}var fn=function(t){n(f,u);var i=Z(f);function f(n){var t;return e(this,f),t=i.call(this),r(c(t),n,un,cn,o,{}),t}return f}();export default fn;
